<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Esportive</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Zalando+Sans+Expanded:wght@700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      font-family: 'Zalando Sans Expanded', sans-serif;
      color: #eee;
      overflow-x: hidden;
      background: #16181c;
      background-image:
        repeating-linear-gradient(to right, rgba(148, 149, 156, 0.21) 0 3px, transparent 3px 78px),
        repeating-linear-gradient(to bottom, rgba(148, 149, 156, 0.18) 0 3px, transparent 3px 78px),
        linear-gradient(135deg, #23243a 0%, #16181c 100%);
      background-size: 78px 78px;
      animation: moveGrid 15s linear infinite;
      box-sizing: border-box;
    }
    @keyframes moveGrid {
      0% { background-position: 0 0, 0 0, 0 0; }
      100% { background-position: 78px 78px, 78px 78px, 0 0; }
    }
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(16px);
      z-index: -1;
    }
    #root {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .glass {
      background: rgba(30, 32, 41, 0.44);
      box-shadow: 0 4px 32px rgba(255, 59, 59, 0.1);
      border-radius: 22px;
      border: 1.5px solid rgba(255, 59, 59, 0.13);
      backdrop-filter: blur(24px);
      -webkit-backdrop-filter: blur(24px);
    }
    .rotate-180 {
      transform: rotate(180deg);
      transition: transform 0.2s ease;
    }
  </style>
</head>
<body>
<div id="root">
  <!-- Navbar -->
  

  <!-- Mobile Backdrop -->
  <div id="mobile-menu-backdrop" class="fixed inset-0 bg-black/40 z-40 hidden"></div>

  <!-- Mobile Sidebar -<!-- Navbar -->
<header class="glass p-4 flex justify-between items-center sticky top-0 z-50">
  <!-- Logo -->
  <div class="flex items-center space-x-3">
    <img src="assets/navbar/logo.png" alt="Esportive Logo" class="h-10 select-none pointer-events-none" />
 <!--   <span class="text-lg font-black tracking-wider text-red-500">Esportive</span> -->
  </div>

  <!-- Desktop Nav -->
  <nav class="hidden lg:flex items-center space-x-6 font-bold text-gray-200">
    <a href="mailto:support@espotive.in" class="hover:text-red-400 transition">Contact Us</a>
    <a href="mailto:work@espotive.in" class="hover:text-red-400 transition">Work With Us</a>
    <div class="group relative">
      <button class="flex items-center gap-1 hover:text-red-400 transition focus:outline-none">
        Our Socials <i class="fas fa-chevron-down text-xs ml-1 mt-0.5"></i>
      </button>
      <ul class="absolute right-0 mt-2 py-3 px-4 bg-black/80 backdrop-blur-lg rounded-xl shadow-lg space-y-2 w-48 border border-red-900/20">
        <li><a href="#" class="block hover:text-red-400 text-sm">Instagram</a></li>
        <li><a href="#" class="block hover:text-red-400 text-sm">Discord</a></li>
        <li><a href="#" class="block hover:text-red-400 text-sm">YouTube</a></li>
        <li><a href="#" class="block hover:text-red-400 text-sm">X</a></li>
        <li><a href="#" class="block hover:text-red-400 text-sm">WhatsApp Channel</a></li>
      </ul>
    </div>
  </nav>

  <!-- Mobile Menu Button â€” FIXED POSITION -->
  <button id="menu-toggle" class="lg:hidden text-red-500 hover:text-red-400 text-2xl focus:outline-none flex-shrink-0">
    <i class="fas fa-bars"></i>
  </button>
</header>
  <nav id="sidebar" class="fixed inset-y-0 left-0 z-50 w-64 p-6 glass backdrop-blur-xl transform -translate-x-full transition-transform duration-300 ease-in-out flex flex-col space-y-6 lg:hidden">
    <div class="flex justify-between items-right">
      <span class="text-lg font-black text-red-500">Esportive</span> 
      <button id="close-sidebar" class="text-gray-300 hover:text-white text-2xl">&times;</button>
    </div>

    <ul class="space-y-4 text-white font-medium">
      <li><a href="mailto:support@espotive.in" class="block hover:text-red-400 transition">Contact Us</a></li>
      <li><a href="mailto:work@espotive.in" class="block hover:text-red-400 transition">Work With Us</a></li>
      <li>
        <button id="socials-toggle" class="flex justify-between items-center w-full text-left hover:text-red-400 transition">
          Our Socials <i class="fas fa-chevron-down text-sm"></i>
        </button>
        <ul id="social-links" class="mt-2 space-y-2 hidden pl-3">
          <li><a href="#" class="block hover:text-red-400">Instagram</a></li>
          <li><a href="#" class="block hover:text-red-400">Discord</a></li>
          <li><a href="#" class="block hover:text-red-400">YouTube</a></li>
          <li><a href="#" class="block hover:text-red-400">X</a></li>
          <li><a href="#" class="block hover:text-red-400">WhatsApp Channel</a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <main class="flex-grow p-4 lg:p-6">
    <!-- Hero -->
    <section class="hero glass mb-8 p-6 text-center">
      <div class="inline-block bg-black bg-opacity-20 p-5 rounded-xl">
        <div class="flex items-center justify-center space-x-2 mb-4">
          <div class="w-2 h-8 bg-red-600 rounded"></div>
          <h1 class="font-black text-xl tracking-widest">Find Tournaments.</h1>
        </div>
        <p class="mb-4">Esportive is India's e-sports tournament finder. Simply browse, choose, and register externally.</p>
        <a href="login.html" class="inline-block bg-red-600/20 text-white font-bold py-2 px-6 rounded-full border-2 border-red-600 shadow hover:bg-red-600 transition">Sign in To Browse</a>
      </div>
    </section>

    <!-- Featured Tournaments -->
    <section class="mb-10">
      <h2 class="mb-4 text-2xl text-red-600 font-bold border-l-4 border-red-600 pl-3">Featured Tournaments</h2>
      <div id="tournaments-container" class="flex gap-4 overflow-x-auto pb-2"></div>
    </section>

    <!-- Supported Games -->
    <section class="mb-10">
      <h2 class="mb-4 text-2xl text-red-600 font-bold border-l-4 border-red-600 pl-3">Supported Games</h2>
      <div class="supported-games flex gap-4 overflow-x-auto pb-2">
        <img src="assets/games/bgmi.png" alt="BGMI" class="w-20 h-20 object-contain bg-black/10 rounded-lg" />
        <img src="assets/games/codm.png" alt="CODM" class="w-20 h-20 object-contain bg-black/10 rounded-lg" />
        <img src="assets/games/freefire.png" alt="Free Fire" class="w-20 h-20 object-contain bg-black/10 rounded-lg" />
        <img src="assets/games/coc.png" alt="Clash of Clans" class="w-20 h-20 object-contain bg-black/10 rounded-lg" />
        <img src="assets/games/brawl_stars.png" alt="Brawl Stars" class="w-20 h-20 object-contain bg-black/10 rounded-lg" />
        <img src="assets/games/pokemon_unite.png" alt="Pokemon Unite" class="w-20 h-20 object-contain bg-black/10 rounded-lg" />
        <img src="assets/games/clash_royale.png" alt="Clash Royale" class="w-20 h-20 object-contain bg-black/10 rounded-lg" />
      </div>
    </section>

    <!-- Esportive Feed -->
    <section>
      <h2 class="mb-4 text-2xl text-red-600 font-bold border-l-4 border-red-600 pl-3">Esportive Feed</h2>
      <div id="videos-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"></div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="glass mt-auto p-6 text-center text-gray-400 text-sm">
    <hr class="border-gray-700 my-4" />
    <div class="flex flex-wrap justify-center space-x-4 mb-3">
      <a href="pages/privacy-policy.html" class="hover:text-white">Privacy Policy</a>
      <a href="pages/terms-of-use.html" class="hover:text-white">Terms Of Use</a>
      <a href="pages/cookie-policy.html" class="hover:text-white">Cookie Policy</a>
      <a href="pages/faq.html" class="hover:text-white">FAQ</a>
    </div>
    <div class="flex justify-center space-x-6 text-xl mb-3">
      <a href="https://www.instagram.com" class="hover:text-white"><i class="fab fa-instagram"></i></a>
      <a href="https://www.discord.com" class="hover:text-white"><i class="fab fa-discord"></i></a>
      <a href="https://www.youtube.com" class="hover:text-white"><i class="fab fa-youtube"></i></a>
      <a href="https://www.x.com" class="hover:text-white"><i class="fab fa-x"></i></a>
    </div>
    <p>&copy; 2025 Esportive. All rights reserved.</p>
    <div class="flex justify-center items-center py-3 space-x-3">
      <img src="assets/navbar/logo.png" alt="Esportive Logo" class="h-6" />
      <span class="text-gray-500 font-bold text-sm">PART OF</span>
      <img src="assets/footer/flm.png" alt="FLM Logo" class="h-6" />
    </div>
  </footer>

  <!-- Cookie Consent -->
  <div id="cookie-consent" class="hidden fixed bottom-4 left-4 right-4 max-w-md mx-auto p-4 glass z-50">
    <p class="mb-3">
      We use cookies to improve your experience. By continuing, you accept our
      <a href="pages/cookie-policy.html" class="underline text-red-400">Cookie Policy</a>.
    </p>
    <div class="flex gap-2">
      <button id="accept-cookies" class="px-4 py-2 bg-red-600 text-white rounded font-bold">Accept</button>
      <button id="decline-cookies" class="px-4 py-2 bg-gray-700 text-white rounded font-bold">Decline</button>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const menuToggle = document.getElementById('menu-toggle');
  const closeSidebar = document.getElementById('close-sidebar');
  const sidebar = document.getElementById('sidebar');
  const backdrop = document.getElementById('mobile-menu-backdrop');
  const socialsToggle = document.getElementById('socials-toggle');
  const socialLinks = document.getElementById('social-links');

  if (!menuToggle || !sidebar || !backdrop) return;

  function openMenu() {
    sidebar.classList.remove('-translate-x-full');
    backdrop.classList.remove('hidden');
    document.body.classList.add('overflow-hidden');
  }

  function closeMenu() {
    sidebar.classList.add('-translate-x-full');
    backdrop.classList.add('hidden');
    document.body.classList.remove('overflow-hidden');
  }

  menuToggle.addEventListener('click', openMenu);
  closeSidebar.addEventListener('click', closeMenu);
  backdrop.addEventListener('click', closeMenu);

  if (socialsToggle && socialLinks) {
    socialsToggle.addEventListener('click', () => {
      const isHidden = socialLinks.classList.toggle('hidden');
      const icon = socialsToggle.querySelector('i');
      if (icon) {
        icon.classList.toggle('rotate-180', !isHidden);
      }
    });
  }

  // Cookie Consent
  const cookieConsent = document.getElementById('cookie-consent');
  if (cookieConsent && !localStorage.getItem('cookieAccepted')) {
    cookieConsent.classList.remove('hidden');
  }

  document.querySelectorAll('#accept-cookies, #decline-cookies').forEach(btn => {
    btn?.addEventListener('click', () => {
      localStorage.setItem('cookieAccepted', 'true');
      cookieConsent?.classList.add('hidden');
    });
  });

  // Fetch Tournaments
  async function fetchAndRenderTournaments() {
    const container = document.getElementById('tournaments-container');
    try {
      const res = await fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vRA4wuYi-9mQm_jqQJcX_o5biFNxBbS45jsp-J1bbVd3i4LEZDvgUWWDk29uqovv7aTAssL6M_I4YFG/pub?output=csv');
      const text = await res.text();
      const lines = text.split('\n').slice(1).filter(l => l.trim());
      container.innerHTML = '';
      lines.slice(0, 5).forEach(line => {
        const [title, prize, , , , , , , , game] = line.split(',');
        const card = document.createElement('div');
        card.className = 'tournament-card glass flex-shrink-0 p-4 min-w-[260px]';
        card.innerHTML = `
          <h3 class="text-red-600 font-black text-lg mb-1">${title || 'Untitled'}</h3>
          <p class="text-gray-300 mb-2">${game || 'Game'}</p>
          <div class="bg-red-600/20 text-white font-bold py-1 px-3 rounded-full inline-block mb-3 border border-red-600">
            ${prize || 'Prize TBD'}
          </div>
          <button onclick="window.location.href='login.html'"
            class="w-full mt-2 py-2 bg-red-600/20 text-white font-bold rounded-full border border-red-600 hover:bg-red-600 transition">
            Register Now
          </button>
        `;
        container.appendChild(card);
      });
    } catch (e) {
      container.innerHTML = '<p class="text-red-400">Failed to load tournaments.</p>';
    }
  }

  // Fetch YouTube Videos
  async function fetchAndRenderVideos() {
    const container = document.getElementById('videos-container');
    const key = 'AIzaSyAkUf-Vwi0KbLw49xTryOsrNx9PvR3ph-8';
    const channelId = 'UCJKmT7fdYF7F2tqijFEzDgQ';
    try {
      const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=5&channelId=${channelId}&order=date&type=video&key=${key}`);
      const data = await res.json();
      container.innerHTML = '';
      data.items?.forEach(item => {
        const id = item.id.videoId;
        const title = item.snippet.title;
        const thumb = item.snippet.thumbnails.medium?.url || item.snippet.thumbnails.default?.url;
        const card = document.createElement('div');
        card.className = 'glass p-3';
        card.innerHTML = `
          <a href="https://www.youtube.com/watch?v=${id}" target="_blank" rel="noopener">
            <img src="${thumb}" alt="${title}" class="w-full rounded mb-2">
            <p class="text-sm text-gray-200 truncate">${title}</p>
          </a>
        `;
        container.appendChild(card);
      });
    } catch (e) {
      container.innerHTML = '<p class="text-red-400 col-span-full">Failed to load videos.</p>';
    }
  }

  fetchAndRenderTournaments();
  fetchAndRenderVideos();
});
</script>
</body>
</html>
